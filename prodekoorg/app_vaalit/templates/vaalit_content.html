{% load i18n %}

{% trans "Applicants" as applicants %}
{% trans "No applicants" as no_applicant %}

{% trans "Questions" as questions %}
{% trans "No questions" as no_questions %}

{% trans "No Responses" as no_responses %}

<h2 class="py-3" id="header">{{ virat.0.name }}</h2>
<div id="roleDescription">
  {{ virat.0.description }}
</div>
<div id="vaaliKysymysForm">
  {% include "forms/vaalit_question_form.html" %}
</div>
<div id="vaaliApplyForm" style="{{style_vaaliApplyForm}}">
  {% include "forms/vaalit_apply_form.html" %}
</div>
<div id="vaaliContent" class="tab-content">
  {% for virka in virat %}
  <div id="_{{ forloop.counter }}" class="tab-pane fade{% if forloop.first %} active show{% endif %}" role="tabpanel">

    {# EHDOKKAAT #}
    <h3>{% trans applicants %}</h3>
    <div class="card-group">
    {% for ehdokas in virka.ehdokkaat.all %}
      {% include "vaalit_ehdokas.html" %}
    {% empty %}
      <p>{% trans no_applicants %}</p>
    {% endfor %}
    </div>

    {# KYSYMYKSET #}
    <div class="vaalitQuestions">
      <h3 class="mt-4">{% trans questions %}
          {% trans "No applicants" as no_applicant %}</h3>
      <div class="vaalitKysymysList list-group list-group-root">
        {% for kysymys in virka.kysymykset.all %}
          {% include "vaalit_question.html" %}

          {# VASTAUKSET #}
          <div class="list-group collapse" id="vastaukset_{{ kysymys.pk }}">
            {% for vastaus in kysymys.vastaukset.all %}
              {% include "vaalit_answer.html" %}
            {% endfor %}
            {% if not kysymys.vastaukset.all %}
            <p class="ml-5">{% trans no_responses %}</p> <!-- TODO: Better styling-->
            {% endif %}
          </div>

        {% empty %}
          <p>{% trans no_questions %}</p>
        {% endfor %}
      </div>
    </div>

  </div>
  {% endfor %}
</div>

{% include "vaalit_modal_delete_ehdokas.html" %}
{% include "vaalit_modal_photocrop.html" %}
