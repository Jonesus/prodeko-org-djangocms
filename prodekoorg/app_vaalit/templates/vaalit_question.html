{% load i18n %}

{% trans "Answer" as answer %}
{% trans "Answers" as answers %}
{% trans "Remove" as remove %}
{% trans "Edit" as edit %}

{% load sekizai_tags %}
<li id="kysymys_{{ kysymys.pk }}" class="list-group-item align-items-start mb-2">
  <a href="#vastaukset_{{ kysymys.pk }}" class="list-group-item list-group-item-action" data-toggle="collapse" aria-expanded="true">
  <div class="row">
    <div class="col-md-12 pl-0">
      <div class="questionHeader">
      <p class="my-2"><strong>{{ kysymys.question }}</strong></p>
      <div>
        <p style="display: inline-block; margin-right: 1rem;">{% trans answers %}: {{kysymys.vastaukset.count}}</p>
        <i class="fa fa-fw fa-chevron-down" style="display: inline-block;"></i>
      </div>
      </div>
      <div class="row">
        {% for ehdokas in virka.ehdokkaat.all %}
          {% if request.user == ehdokas.auth_prodeko_user %}
          <button type="button" class="btn btn-default btn-sm btn-xs my-2 mr-2" data-toggle="collapse" data-target="#vaalitAnswerForm_{{ forloop.parentloop.counter }}">
            <i class="mr-2 fa fa-reply"></i>
            {% trans answer %}
          </button>
          {% endif %}
        {% endfor %}
        {% if request.user == kysymys.created_by %}
        <form class="vaalitDeleteKysymysForm" novalidate method="POST">
           {% csrf_token %}
           <input type="hidden" name="hidden-kysymys-id" value="{{ kysymys.pk }}"/>
           <button type="submit" class="btn btn-outline-danger btn-xs mt-2 mr-2"><i class="fas fa-times mr-2"></i>{% trans remove %}</button>
        </form>
        {% endif %}
      </div>
    </div>
    <div class="col-5 d-none d-md-block d-lg-none flex-column">
      {% if kysymys.created_by %}
      <small class="mb-0"><em>{{ kysymys.created_by }}</em></small>
      <br />
      {% endif %}
      <small>{{ kysymys.created_at|timesince }} sitten</small>
    </div>
  </div>
  </a>
</li>
{% include "forms/vaalit_answer_form.html" %}
